<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  
  <mapper namespace="EventDAO_M">
  	<select id="getAllEventList_M" resultType="event" parameterType="event">
  		select * from event order by EVENT_NO asc
  	
  	</select>
  
  	<select id="getEvent_M" resultType="event" parameterType="event">
  		select * from event WHERE EVENT_NO=#{EVENT_NO} order by EVENT_NO asc
  	</select>
  	
  	<insert id="insertEvent_M" parameterType="event">
  		INSERT INTO EVENT (EVENT_NO, EVENT_START, EVENT_END, EVENT_TITLE, EVENT_CONTENT, EVENT_STATUS)
  		VALUES ((select nvl(max(EVENT_NO), 0) +1 from Event), #{EVENT_START}, #{EVENT_END}, #{EVENT_TITLE}, #{EVENT_CONTENT}, ${EVENT_STATUS})
  	</insert>
  	
  	<update id="updateEvent_M" parameterType="event">
  		UPDATE EVENT SET
  		EVENT_START=#{EVENT_START},
  		EVENT_END=#{EVENT_END},
  		EVENT_TITLE=#{EVENT_TITLE},
  		EVENT_CONTENT=#{EVENT_CONTENT},
  		EVENT_STATUS=#{EVENT_STATUS}
  		WHERE EVENT_NO=#{EVENT_NO}
  	</update>
  	
  	<delete id="deleteEvent_M" >
  		DELETE FROM EVENT WHERE EVENT_NO=#{EVENT_NO}
  	</delete>
  	
  </mapper>